DATA SEGMENT
    CHAR_X DW 14
    CHAR_Y DW 9
    CHAR_SIZE DW 10
ENDS
STACK SEGMENT
    DW 128 DUP(0)
ENDS

CODE SEGMENT
    START:
    MAIN_PROC
    MOV AX,DATA
    MOV DS,AX
    MOV ES,AX

MOV AH,00H;SET VIDEO MODE
MOV AL,12H;RESOLUTION 320x200
INT 10H

MOV AL,0DH ;MAGENTA
MOV AH,0CH ;WRITE PIXEL

MOV DX,0
MOV CX,0
;INT 10H
V1:
INC DX
INT 10H
CMP DX,40
JB V1

MOV DX,60
MOV CX,0
V2:
INC DX
INT 10H
CMP DX,300
JB V2

MOV DX,0
MOV CX,300
V3:
INC DX
INT 10H
CMP DX,240
JB V3

MOV DX,260
MOV CX,300
V4:
INC DX
INT 10H
CMP DX,300
JB V4  

MOV DX,0
MOV CX,0
H1:
INC CX
INT 10H
CMP CX,300
JB H1

MOV DX,300
MOV CX,0 
H2:
INC CX
INT 10H
CMP CX,300
JB H2

MOV DX,0
MOV CX,80
V5:
INC DX
INT 10H
CMP DX,40
JB V5

MOV DX,40
MOV CX,80
H3:
DEC CX
INT 10H
CMP CX,20
JA H3

MOV DX,40
MOV CX,20
V6:
DEC DX
INT 10H 
CMP DX,20
JA V6

MOV DX,20
MOV CX,20
H4:
INC CX
INT 10H
CMP CX,40  
JB H4 

MOV DX,20
MOV CX,60
H5:
INC CX
INT 10H
CMP CX,80
JB H5

MOV DX,0
MOV CX,140
V7:
INC DX
INT 10H
CMP DX,20
JB V7  

MOV DX,20
MOV CX,140
H6:
INC CX
INT 10H
CMP CX,160
JB H6

MOV DX,0
MOV CX,240
V8: 
INC DX
INT 10H  
CMP DX,20
JB V8

MOV DX,20
MOV CX,240
H7:
DEC CX
INT 10H
CMP CX,200
JA H7

MOV DX,20
MOV CX,200
V9:
INC DX
INT 10H
CMP DX,40
JB V9

MOV DX,40
MOV CX,200
H8:
INC CX
INT 10H
CMP CX,280
JB H8

MOV DX,40
MOV CX,280
V10:
DEC DX
INT 10H
CMP DX,20
JA V10

MOV DX,20
MOV CX,280
H9:
DEC CX
INT 10H 
CMP CX,260
JA H9

MOV DX,20
MOV CX,100
V11:
INC DX
INT 10H
CMP DX,60
JB V11

MOV DX,60
MOV CX,100
H10:
DEC CX
INT 10H
CMP CX,80
JA H10

MOV DX,20
MOV CX,100
H11:
INC CX
INT 10H
CMP CX,120
JB H11

MOV DX,40
MOV CX,100
H12:
INC CX
INT 10H
CMP CX,140
JB H12

MOV DX,40
MOV CX,140
V12:
INC DX
INT 10H
CMP DX,60
JB V12

MOV DX,60
MOV CX,140
H13:
DEC CX
INT 10H
CMP CX,120
JA H13

MOV DX,60
MOV CX,120
V13:
INC DX
INT 10H
CMP DX,80
JB V13

MOV DX,40
MOV CX,160
V14:
INC DX
INT 10H
CMP DX,60
JB V14

MOV DX,60
MOV CX,160
H14:
INC CX
INT 10H
CMP CX,240
JB H14

MOV DX,60
MOV CX,200
V15:
INC DX
INT 10H 
CMP DX,80
JB V15

MOV DX,80
MOV CX,200
H15:
DEC CX
INT 10H
CMP CX,80
JA H15

MOV DX,80
MOV CX,80
V16:
INC DX
INT 10H
CMP DX,180
JB V16 

MOV DX,160
MOV CX,80
H16:
DEC CX
INT 10H
CMP CX,60
JA H16

MOV DX,80
MOV CX,20
V17:
INC DX
INT 10H
CMP DX,160
JB V17

MOV DX,160
MOV CX,20
H17:
INC CX
INT 10H
CMP CX,40
JB H17

MOV DX,160
MOV CX,40
V18:
DEC DX
INT 10H
CMP DX,140
JA V18

MOV DX,120
MOV CX,0
H18:
INC CX
INT 10H
CMP CX,20
JB H18

MOV DX,40
MOV CX,60
V19:
INC DX
INT 10H
CMP DX,60
JB V19

MOV DX,60
MOV CX,60
H19:
DEC CX
INT 10H
CMP CX,40
JA H19

MOV DX,60
MOV CX,40
V20:
INC DX
INT 10H
CMP DX,120
JB V20

MOV DX,120
MOV CX,40
H20:
INC CX
INT 10H
CMP CX,60
JB H20

MOV DX,80
MOV CX,60
V21:
INC DX
INT 10H
CMP DX,140
JB V21 

MOV DX,200
MOV CX,0
H21:
INC CX
INT 10H
CMP CX,20
JB H21

MOV DX,200
MOV CX,20
V22:
DEC DX
INT 10H
CMP DX,180
JA V22

MOV DX,180
MOV CX,20
H22:
INC CX
INT 10H
CMP CX,120
JB H22

MOV DX,180
MOV CX,120
V23:
INC DX
INT 10H
CMP DX,200
JB V23 

MOV DX,180
MOV CX,40  
V24:
INC DX
INT 10H
CMP DX,220
JB V24

MOV DX,220
MOV CX,20
V25:
INC DX
INT 10H
CMP DX,240
JB V25

MOV DX,240
MOV CX,20
H23:
INC CX
INT 10H
CMP CX,60
JB H23

MOV DX,240
MOV CX,60
V26:
DEC DX
INT 10H
CMP DX,200
JA V26

MOV DX,200
MOV CX,60
H24:
INC CX
INT 10H
CMP CX,100
JB H24

MOV DX,200
MOV CX,100
V27:
INC DX
INT 10H
CMP DX,220
JB V27 

MOV DX,300
MOV CX,100
V28:
DEC DX
INT 10H
CMP DX,280
JA V28

MOV DX,280
MOV CX,100
H25:
DEC CX
INT 10H
CMP CX,80
JA H25

MOV DX,280
MOV CX,80
V29:
DEC DX
INT 10H
CMP DX,260
JA V29 

MOV DX,220
MOV CX,100
H26:
INC CX
INT 10H
CMP CX,140
JB H26

MOV DX,200
MOV CX,140
V30:
INC DX
INT 10H
CMP DX,280
JB V30

MOV DX,280
MOV CX,120
H27:
INC CX
INT 10H
CMP CX,160
JB H27
       
MOV DX,280
MOV CX,160
V31:
DEC DX
INT 10H
CMP DX,180
JA V31

MOV DX,180
MOV CX,140
H28:
INC CX
INT 10H
CMP CX,200
JB H28

MOV DX,220
MOV CX,160
H29:
INC CX
INT 10H
CMP CX,200
JB H29

MOV DX,180
MOV CX,140
V32:
DEC DX
INT 10H
CMP DX,140
JA V32

MOV DX,140
MOV CX,140
H30:
INC CX
INT 10H
CMP CX,160
JB H30

MOV DX,140
MOV CX,160
V33:
DEC DX
INT 10H
CMP DX,120
JA V33

MOV DX,120
MOV CX,140
H31:
INC CX
INT 10H
CMP CX,180
JB H31

MOV DX,160
MOV CX,140
H32:
DEC CX
INT 10H
CMP CX,100
JA H32

MOV DX,160
MOV CX,100
V34:
DEC DX
INT 10H
CMP DX,100
JA V34

MOV DX,100
MOV CX,100
H33:
INC CX
INT 10H
CMP CX,140
JB H33

MOV DX,100
MOV CX,140
V35:
INC DX
INT 10H
CMP DX,80
JB V35

MOV DX,80
MOV CX,140
H34:
DEC CX
INT 10H
CMP CX,120
JA H34

MOV DX,40
MOV CX,260
V36:
INC DX
INT 10H
CMP DX,80
JB V36

MOV DX,80
MOV CX,260
H35:
DEC CX
INT 10H
CMP CX,220
JA H35

MOV DX,80
MOV CX,220
V37:
INC DX
INT 10H
CMP DX,100
JB V37

MOV DX,80
MOV CX,220
V38:
INC DX
INT 10H
CMP DX,120
JB V38

MOV DX,120
MOV CX,220
H36:
DEC CX
INT 10H
CMP CX,180
JA H36

MOV DX,280
MOV CX,200
H37:
INC CX
INT 10H
CMP CX,280
JB H37

MOV DX,280
MOV CX,260
H38:
INC CX
INT 10H
CMP CX,300
JB H38

MOV DX,280
MOV CX,240
V39:
DEC DX
INT 10H
CMP DX,160
JA V39   

MOV DX,160
MOV CX,240
H39:
INC CX
INT 10H
CMP CX,280
JB H39 

MOV DX,160
MOV CX,280
V40:
INC DX
INT 10H
CMP DX,220
JB V40 

MOV DX,100
MOV CX,300
H40:
DEC CX
INT 10H
CMP CX,260
JA H40

MOV DX,100 
MOV CX,260
V41:
INC DX
INT 10H
CMP DX,140
JB V41

MOV DX,260
MOV CX,240
H41:
DEC CX
INT 10H
CMP CX,200
JA H41
     
CALL DRAW_CHAR

CALL INPUT

ret
      
MAIN ENDP
    DRAW_CHAR PROC
    MOV CX,CHAR_X
    MOV DX,CHAR_Y
    MOV AH,0CH
    MOV AL,0FH
    DRAW:
    INT 10H
    INC CX
    MOV BX,CX
    SUB BX,CHAR_X
    CMP BX,CHAR_SIZE
    JNG DRAW
    MOV CX,CHAR_X
    INC DX
    MOV BX,DX
    SUB BX,CHAR_Y
    CMP BX,CHAR_SIZE
    JNG DRAW
    RET    
    DRAW_CHAR ENDP

;--------------------------------------------------
INPUT PROC
    INP:
        MOV AH,00H
        INT 16H
        CMP AH,48H ;IF ARROW UP IS PRESSSED
        JE UP
        CMP AH,50H ;DOWN KEY
        JE DOWN
        CMP AH,4BH ;LEFT
        JE LEFT
        CMP AH,4DH ;RIGHT
        JE RIGHT
        CMP AL,1BH
        JE ESCAPE
        JMP INP
    RIGHT:
        CALL DELETE_CHAR
        MOV CX,CHAR_X
        ADD CX,10
        MOV CHAR_X,CX
        CALL DRAW_CHAR
        JMP INP
    UP:
        CALL DELETE_CHAR
        SUB CHAR_Y,10
        CALL DRAW_CHAR
        JMP INP
    LEFT:
        CALL DELETE_CHAR
        SUB CHAR_X,10
        CALL DRAW_CHAR
        JMP INP
    DOWN:
        CALL DELETE_CHAR
        ADD CHAR_Y,10
        CALL DRAW_CHAR
        JMP INP
    ESCAPE:
        RET
INPUT ENDP

;-------------------------------------------------
DELETE_CHAR PROC
    MOV CX,CHAR_X
    MOV DX,CHAR_Y
    MOV AH,0CH
    MOV AL,00H
    DELETE:
    INT 10H
    INC CX
    MOV BX,CX
    SUB BX,CHAR_X;make some changes
    CMP BX,CHAR_SIZE
    JNG DRAW
    MOV CX,CHAR_X
    INC DX
    MOV BX,DX
    SUB BX,CHAR_Y
    CMP BX,CHAR_SIZE
    JNG DELETE
    RET
DELETE_CHAR ENDP
        
ENDS
END START
